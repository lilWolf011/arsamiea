<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <title>Arsemiea | Fiyat Listesi</title>
    <style>
      body {
        font-family: "Montserrat", sans-serif;
        background: linear-gradient(135deg, #f3f4f6, #e2e8f0);
      }

      @keyframes fade-in-down {
        0% {
          opacity: 0;
          transform: translateY(-10px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-fade-in-down {
        animation: fade-in-down 0.5s ease-out;
      }
    </style>
  </head>
  <body
    class="flex items-center justify-center min-h-screen max-h-screen p-4 bg-white"
  >
    <button
      onclick="downloadPoster()"
      class="absolute top-4 right-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg shadow-lg transition"
    >
      Download
    </button>
    <main
      id="poster"
      style="border-top: 10px solid #e50817"
      class="bg-gradient-to-br from-white to-gray-100 rounded-2xl shadow-2xl p-8 w-full max-w-2xl transition-all duration-300 hover:scale-[1.01]"
    >
      <div class="flex flex-col items-center mb-4 animate-fade-in-down">
        <img
          src="./logo.svg"
          alt=""
          class="md:w-[26rem] w-[20rem] h-auto mb-4"
        />
        <!-- <h1 class="text-xl font-semibold font-mons text-brand mb-6 text-red-900">Fiyat Listesi</h1> -->
      </div>
      <div class="space-y-6 text-gray-800">
        <!-- Menü: Çiğ Köfte -->
        <section>
          <h2
            class="text-xl font-semibold mb-2 text-primary animate-fade-in-down"
          >
            Çiğ Köfte
          </h2>
          <hr class="border-gray-300 mb-2 animate-fade-in-down" />
          <ul class="space-y-1 animate-fade-in-down">
            <li class="flex justify-between">
              <span>100 gr Çiğ Köfte</span>
              <span>₺80</span>
            </li>
            <li class="flex justify-between">
              <span>250 gr Çiğ Köfte</span>
              <span>₺150</span>
            </li>
            <li class="flex justify-between">
              <span>500 gr Çiğ Köfte</span>
              <span>₺250</span>
            </li>
            <li class="flex justify-between">
              <span>1 kg Çiğ Köfte</span>
              <span>₺350</span>
            </li>
          </ul>
        </section>

        <!-- Menü: Dürüm -->
        <section>
          <h2
            class="text-xl font-semibold mb-2 text-primary animate-fade-in-down"
          >
            Dürüm
          </h2>
          <hr class="border-gray-300 mb-2 animate-fade-in-down" />
          <ul class="space-y-1 animate-fade-in-down">
            <li class="flex justify-between">
              <span>Küçük Dürüm</span>
              <span>₺60</span>
            </li>
            <li class="flex justify-between">
              <span>Orta Dürüm</span>
              <span>₺70</span>
            </li>
            <li class="flex justify-between">
              <span>Büyük Dürüm (Bol İçerik)</span>
              <span>₺80</span>
            </li>
          </ul>
        </section>

        <!-- Menü: İçecekler -->
        <section>
          <h2
            class="text-xl font-semibold mb-2 text-primary animate-fade-in-down"
          >
            İçecekler
          </h2>
          <hr class="border-gray-300 mb-2 animate-fade-in-down" />
          <ul class="space-y-1 animate-fade-in-down">
            <li class="flex justify-between">
              <span>Ayran (200 ml)</span>
              <span>₺30</span>
            </li>
            <li class="flex justify-between">
              <span>Şalgam (330 ml)</span>
              <span>₺40</span>
            </li>
            <li class="flex justify-between">
              <span>Kutu İçecekler</span>
              <span>₺25</span>
            </li>
          </ul>
        </section>

        <!-- Menü: Ekstralar -->
        <section>
          <h2
            class="text-xl font-semibold mb-2 text-primary animate-fade-in-down"
          >
            Ekstra Ürünler
          </h2>
          <hr class="border-gray-300 mb-2 animate-fade-in-down" />
          <ul class="space-y-1 animate-fade-in-down">
            <li class="flex justify-between">
              <span>Marul</span>
              <span>₺5</span>
            </li>
            <li class="flex justify-between">
              <span>Lavaş (1 Adet)</span>
              <span>₺4</span>
            </li>
            <li class="flex justify-between">
              <span>Nar Ekşisi / Acı Sos</span>
              <span>₺3</span>
            </li>
          </ul>
        </section>
      </div>
    </main>
    <script>
      function downloadPoster() {
        const mainElement = document.getElementById("poster");

        document.fonts.ready.then(() => {
          // Animasyon class'larını geçici kaldır
          const animatingElements = document.querySelectorAll(
            ".animate-fade-in-down"
          );
          animatingElements.forEach((el) =>
            el.classList.remove("animate-fade-in-down")
          );

          mainElement.style.borderTop = "10px solid #E50817";
          mainElement.style.borderLeft = "0.001px solid #E50817";
          mainElement.style.borderRight = "0.001px solid #E50817";

          const originalFilter = mainElement.style.filter;
          const originalOpacity = mainElement.style.opacity;
          const originalBg = mainElement.style.backgroundColor;
          const originalColor = mainElement.style.color;

          mainElement.style.filter = "none";
          mainElement.style.opacity = "1";
          mainElement.style.backgroundColor = "#ffffff";
          mainElement.style.color = "#111827"; // text-gray-800

          html2canvas(mainElement, {
            scale: 3,
            useCORS: true,
            backgroundColor: null,
          }).then((canvas) => {
            const image = canvas.toDataURL("image/png");
            const link = document.createElement("a");
            link.download = "poster.png";
            link.href = image;
            link.click();

            // Geri yükle
            mainElement.style.filter = originalFilter;
            mainElement.style.opacity = originalOpacity;
            mainElement.style.backgroundColor = originalBg;
            mainElement.style.color = originalColor;

            mainElement.style.borderLeft = "none";
            mainElement.style.borderRight = "none";

            animatingElements.forEach((el) =>
              el.classList.add("animate-fade-in-down")
            );
          });
        });
      }
    </script>
  </body>
</html>
